requires = ["tox>=4.23"]
env_list = ["3.13", "3.12", "3.11", "3.10", "3.9", "3.8", "type", "lint"]

[env_run_base]
description = "Run test under {base_python}"
commands = [["pytest"]]
extras = ["test"]

[env.type]
description = "Run type check on the code base"
commands = [["pyright"]]

[env.lint]
description = "Check the code style"
package = "editable"
commands = [
    ["black", "--check", "."],
    [ "isort", "--check", "."],
]

[env.lint-fix]
description = "Fix the code style"
package = "editable"
commands = [["pre-commit", "run", "-a"]]

[env.cov]
description = "Run tests with coverage"
package = "editable"
commands = [["pytest", "--cov=yuio", "--cov-report=html"]]
